<div class="content-grid consultation-area">
  <div class="consultation-show-instructor-shell shell-border">
    <div class="grey-shell-gradient padding-5 center-text">
      <h2><%= @consultation.user.fname %> <%= @consultation.user.lname %></h2>
    </div>
    <div class="user-profile-image-div">
      <% avatar_url = @consultation.user.photo.url(:bright_face) || avatar_url = "https://res.cloudinary.com/mattg/image/upload/v1494130069/user-icon_arl6kj.png" %>
          <!-- ^ added `.url(:brightface)` from the `photo_uploader` class-->
      <div class="user-large-profile-image-img shell-tab" style="background-image: url('<%= image_path avatar_url %>'); background-size: cover;  height: 180px; width: 180px; border-radius: 50%; background-position: center;"></div>
    </div><!--end of user-profile-image-div-->
    <div class="padding-5">
      <div class="flex-space-between">
        <p><%= link_to "homepage", root_path %></p>
        <p><%= link_to "dashboard", dashboard_path %></p>
      </div>
      <% if policy(@consultation).destroy? %>
        <div class="edit flex-space-between">
          <h6>Edit:</h6>
            <div class="consultation-lesson-form-div">
              <a href="" data-toggle="modal" data-target="#edit-consult">
                <div class="round-div no-decor center-text"><h6>edit</h6></div>
              </a>
            </div><!--end of consultation-lesson-form-div-->
        </div><!--end of edit flex-spc-between-->
      <% end %><!--end of policy-->
      <div class="flex-space-between">
        <h6>Email:</h6>
        <h6><%= @consultation.user.email %></h6>
      </div>
      <div class="flex-space-between">
        <h6>Gender:</h6>
        <h6><%= @consultation.user.gender %></h6>
      </div>
      <div class="flex-space-between">
        <h6>Education:</h6>
        <h6><%= @consultation.user.edulevel %></h6>
      </div>
      <div class="flex-space-between">
        <h6>Major:</h6>
        <h6><%= @consultation.user.subjectmajor %></h6>
      </div>
    </div><!--end of padding div-->
  </div><!--end of consultation-show-instructor-shell shell-border-->
  <div class="consultation-show-details-shell">
  <div class="shell-border padding-5">
  <!--consult details partial-->
  <div>
    <%= render 'consultations/details_consultation_show', consultation: @consultation %>
  </div>
  <hr>
    <!-- lessons here-->
  <% if policy(@consultation).destroy? %>
    <div class="consultation-lesson-form-div">
      <a href="" data-toggle="modal" data-target="#create-lesson">
        <div class="round-div no-decor center-text"><h3>Create a Lesson</h3></div>
      </a>
    </div><!--end of consultation-lesson-form-div-->
  <hr>
  <% end %><!--end of policy-->
  <div class="flex-space-between shell-tab shell-border">
    <div class="flex-25"><h6><b>#</b></h6></div>
    <div class="flex-25"><h6><b>level</b></h6></div>
    <div class="flex-25"><h6><b>start/end</b></h6></div>
    <div class="flex-25 center-text"><h6><b>days</b></h6></div>
  </div><!--flex-space-between-->
  <div id="lesson-min">
    <% @consultation.lessons.each do |l| %>
      <!-- below should be exported to a partial-->
      <%= render 'lessons/lesson_show', element: l %>
      <div class="modal fade lesson-mod-style" id="lesson-form-<%= l.id %>">
        <div class="modal-dialog" role="document"><!--aligns the modal document-->
          <div class="modal-content">
            <div class="modal-header modal-head-grad flex flex-center">
              <h3 class="lesson-modal-header">Booking for section: '<%= l.lesson_section %>'</h3>
            </div><!--end of header-->
            <div class="modal-body flex flex-center-center">
              <%= render "appointments/new_less_appointment_form", lesson: l, appointment: @appointment %>
            </div><!--end of modal-body-->
          </div><!--end of modal-content-->
        </div><!--end of modal-dialog-->
      </div><!--end of modal-->
    <% end %><!--end consultation.lessons.each-->
  </div><!--end lesson end-->
  <div class="flex-space-between btn shell">
    <div class="consultation-message-form-div">
      <a href="" data-toggle="modal" data-target="#create-message">
        <div class="round-div no-decor btn btn-primary">send message</div>
      </a><!-- end of consult-message modal-->
    </div><!--end of consultation-message-form-div-->
  </div>
</div><!--end of consultation-show-details-shell-->
</div><!--end of shell-border-->
  <!--end of consult parital-->
  <div class="consultation-show-reviews-shell">
    <div class="shell-tab">
      <div class="flex-center-center center-div grey-shell-gradient">
        <h2>Reviews</h2>
      </div><!--end of flex-center-center center-div-->
      <div id="review-min">
        <% @consultation.reviews.each do |r| %>
          <%= link_to review_path(r) do %>
            <%= render 'reviews/show_min_reviews', element: r %>
          <% end %><!--end of link-->
        <% end %><!--end of consult.review.each-->
      </div><!--end of shell-tab-->
      <% unless @consultation.user == current_user %>
        <div class="consultation-review-form-div center-text padding">
          <a href="" data-toggle="modal" data-target="#create-review">
            <div class="round-div no-decor btn btn-primary center-text">publish review</div>
          </a><!-- end of modal link-->
        </div><!--end of consultation-review-form-div-->
      <% end %>
    </div><!--id="review-min"-->
  </div><!--end of consultation-show-review-shell-->
</div> <!--end content-grid consultation-area-->
<!--modals below-->

<!--begin modal of edit create partial-->
<div class="modal fade edit-mod-style" id="edit-consult">
  <div class="modal-dialog" role="document"><!--aligns the modal document-->
    <div class="modal-content">
      <div class="modal-header modal-head-grad flex flex-center-center">
        <h3 class="create-edit-modal-header">edit consultation</h3>
      </div><!--end of header-->
      <div class="modal-body">
        <%= render template: "consultations/edit", consultation: @consultation %>
      </div><!--end of modal-body and edit-show-form-div-->
    </div><!--end of modal-content-->
  </div><!--end of modal-dialog-->
</div><!--end of modal-->

<!--begin modal of review create partial-->
<div class="modal fade review-mod-style" id="create-review">
  <div class="modal-dialog" role="document"><!--aligns the modal document-->
    <div class="modal-content">
      <div class="modal-header modal-head-grad flex flex-center-center">
        <h3 class="create-review-modal-header">write review</h3>
      </div><!--end of header-->
      <div class="modal-body flex flex-center-center">
        <%= render "reviews/new_review_form", consultation: @consultation, review: @review %>
      </div><!--end of modal-body and review-show-form-div-->
    </div><!--end of modal-content-->
  </div><!--end of modal-dialog-->
</div><!--end of modal-->

<!--begin modal of message create partial-->
<div class="modal fade message-mod-style" id="create-message">
  <div class="modal-dialog" role="document"><!--aligns the modal document-->
    <div class="modal-content">
      <div class="modal-header modal-head-grad flex flex-center-center">
        <h3 class="create-message-modal-header">create message</h3>
      </div><!--end of header-->
      <div class="modal-body flex flex-center-center">
        <%= render "messages/new_message_form", consultation: @consultation, message: @message %>
      </div><!--end of modal-body and message-show-form-div-->
    </div><!--end of modal-content-->
  </div><!--end of modal-dialog-->
</div><!--end of modal-->

<!--begin modal of lesson create partial-->
<div class="modal fade lesson-mod-style" id="create-lesson">
  <div class="modal-dialog" role="document"><!--aligns the modal document-->
    <div class="modal-content">
      <div class="modal-header modal-head-grad flex flex-center-center">
        <h3 class="create-lesson-modal-header">create lesson</h3>
      </div><!--end of header-->
      <div class="modal-body flex flex-center-center">
        <%= render "lessons/new_lesson_form", consultation: @consultation, lesson: @lesson %>
      </div><!--end of modal-body and lesson-show-form-div-->
    </div><!--end of modal-content-->
  </div><!--end of modal-dialog-->
</div><!--end of modal-->
  <!-- </div> -->
